var UIObject=function(){this._width=0;this._height=0;this._x=0;this._y=0;this._img=undefined;this._callBack;this._xClip;this._yClip;this._wClip;this._hClip;this._fillStyle;this._name="UIObject"};UIObject.prototype={};UIObject.prototype.Loader=function(b,c){var a=new Image();a.src=b;a.parent=this;a.callBack=c;this._url=b;a.onload=function(){this.parent.loaded=true;this.callBack(this.parent)};this._img=a},UIObject.prototype.Draw=function(){};UIObject.prototype.constructor=UIObject;console.log("UIObject loaded");function UIImage(){UIObject.call(this);this._url="";this._img="";this._loaded=false;this._name="UIImage";this._clickLink="";this._listener=0}UIImage.prototype=Object.create(UIObject.prototype);UIImage.prototype.constructor=UIImage;UIImage.prototype.draw=function(){if(this._xClip){HUDctx.fillStyle=this._fillStyle;HUDctx.fillRect(this._x,this._y,this._width,this._height);if(this._img!=""){HUDctx.drawImage(this._img,this._xClip,this._yClip,this._wClip,this._hClip,this._x,this._y,this._width,this._height)}else{if(this._listener==0){this._listener=setInterval(this.checkLoad.bind(this),300)}}}else{if(this._img!=""){HUDctx.drawImage(this._img,this._x,this._y,this._width,this._height);if(this._listener==0){this._listener=setInterval(this.checkLoad.bind(this),300)}}}};UIImage.prototype.checkLoad=function(){if(typeof this._img!="string"){clearInterval(this._listener);window.DisplayList.draw()}};console.log("UIImage loaded");var DisplayList=function(){this._viewList=[];this._ctx;this._canvas};DisplayList.prototype={};DisplayList.prototype.init=function(){this._globallyVisible=true;this._viewList=[];this._ctx=HUDCanvas.getContext("2d");HUDCanvas.style.display="block";window.addEventListener("resize",function(){console.log("Displaylist got resize event listener");this.draw()}.bind(this))};DisplayList.prototype.clearCanvas=function(){HUDctx.clearRect(0,0,HUDCanvas.width,HUDCanvas.height)};DisplayList.prototype.draw=function(){this.clearCanvas();var a=this._ctx;for(var b in this._viewList){if(this._viewList.hasOwnProperty(b)){this._viewList[b].draw()}}};DisplayList.prototype.registerView=function(b){var c=false;for(var a=0;a<this._viewList.length;a++){if(this._viewList[a]._name==b._name){c=true}}if(c){this.draw()}else{this._viewList.push(b);this.draw()}};DisplayList.prototype.makeAllInactive=function(){this._viewList.forEach(function(a){a._active=false})};DisplayList.prototype.makeAllActive=function(){this._viewList.forEach(function(a){a._active=true})};DisplayList.prototype.makeViewActive=function(a){this._viewList[a._name]._active=true};DisplayList.prototype.makeViewInActive=function(a){this._viewList[a._name]._active=false;this.draw()};DisplayList.prototype.findView=function(a){this._viewList.forEach(function(b){if(a._name==b._name){return a}});return null};DisplayList.prototype.deleteView=function(a){for(i=0;i<this._viewList.length;i++){if(this._viewList[i]._name==a._name){this._viewList.splice(i,1)}}this.draw()},DisplayList.prototype.changeViewZIndex=function(a,b){};console.log("DisplayList loaded");window.DisplayList=new DisplayList();